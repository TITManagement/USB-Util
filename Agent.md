# Agent.md

## 目的
このドキュメントは、USB-utilプロジェクトに関わるAIエージェント・開発者が必ず遵守すべき運用ルール・品質基準・チェックリストを明文化し、プロジェクト全体の一貫性・品質向上を目的とします。

---

## 基本方針
- すべてのコード変更・提案・レビューは本Agent.mdの内容に準拠すること
- AIエージェントはセッション内履歴だけでなく、プロジェクト全体の設計・運用ルールを常に参照すること
- 新規メンバー・AIエージェントは必ず本ドキュメントを最初に確認すること

---

## コーディング・設計チェックリスト
1. **呼び出し箇所の確認**
   - 変更・提案する関数/メソッドがどこで呼ばれているか必ず確認
   - main関数、他クラス、テスト、UIイベント等の呼び出し経路を明示

2. **設計全体の把握**
   - クラス・関数の責務、データフロー、依存関係を整理
   - どのタイミングでどの処理が走るかを俯瞰

3. **表示ロジックの確認**
   - UI/UX（並び順、更新タイミング、再ソート有無）を必ずチェック
   - 表示に影響するロジックはコード変更時に必ずレビュー

4. **分岐・例外・早期returnのデバッグ**
   - すべての分岐・例外・早期return前にデバッグ出力を追加
   - printやロギングで到達確認

5. **テスト・検証手順**
   - コード変更時は必ず動作確認・テストを実施
   - 失敗事例・フィードバックは本ドキュメントに追記

---

## AIエージェント運用フロー
1. **Agent.mdの自動参照**
   - セッション開始時・コード変更時に必ずAgent.mdを読み込み、方針・ルールを参照
2. **履歴・フィードバックの反映**
   - ユーザーからの指摘・修正履歴をセッション内だけでなく、Agent.mdに反映
3. **提案・修正時のチェック**
   - すべての提案・修正はAgent.mdのチェックリストを満たすこと
4. **レビュー・運用改善**
   - Pull Requestやレビュー時にAgent.md準拠を必須化
   - 定期的に内容をアップデートし、現場の知見・失敗事例も反映

---

## ナレッジ共有・改善サイクル
- 失敗事例・改善案・新たな運用ルールは随時Agent.mdに追記
- チーム全体・AIエージェントが一貫した品質・運用を維持できるようにする

---

## 参考例
- 呼び出し箇所未確認によるバグ事例
- 表示ロジックの見落としによるUI不具合
- 例外分岐のデバッグ不足による原因特定遅延

---

## 改訂履歴
- 2025-10-14 初版作成

---

> 本ドキュメントはプロジェクトルートに必ず設置し、全メンバー・AIエージェントが参照・遵守してください。
